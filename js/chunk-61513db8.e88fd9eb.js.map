{"version":3,"sources":["webpack:///./src/views/frontend/Login.vue?fae3","webpack:///./src/views/frontend/Login.vue","webpack:///./src/views/frontend/Login.vue?5523"],"names":["class","for","type","id","login","placeholder","required","autofocus","user","username","password","inject","data","methods","this","api","then","res","success","token","expired","document","cookie","Date","$router","push","swalert","message","catch","err","render","__scopeId"],"mappings":"kHAAA,W,mLCCOA,MAAM,S,GACJA,MAAM,mB,GACJA,MAAM,0C,EACT,yBAEK,MAFDA,MAAM,0CAAyC,UAEnD,G,GACKA,MAAM,mB,GAEFA,MAAM,sB,EAUT,yBAA2C,SAApCC,IAAI,YAAW,iBAAa,G,GAEhCD,MAAM,iB,EAST,yBAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,EAEhC,yBAES,UAFDD,MAAM,oCAAoCE,KAAK,UAAS,QAEhE,G,yFAjCV,yBAsCM,MAtCN,EAsCM,CArCJ,yBAoCM,MApCN,EAoCM,CAnCJ,yBAkCM,MAlCN,EAkCM,CAjCJ,EAGA,yBA6BM,MA7BN,EA6BM,CA5BJ,yBA2BO,QA3BDC,GAAG,OAAOH,MAAM,cAAe,SAAM,0DAAU,EAAAI,OAAA,EAAAA,MAAA,qBAAK,e,CACxD,yBAWM,MAXN,EAWM,C,4BAVJ,yBAQE,SAPAF,KAAK,QACLF,MAAM,eACNG,GAAG,WACHE,YAAY,mBACZC,SAAA,GACAC,UAAA,G,qDACS,EAAAC,KAAKC,SAAQ,K,4BAAb,EAAAD,KAAKC,YAEhB,IAEF,yBAUM,MAVN,EAUM,C,4BATJ,yBAOE,SANAP,KAAK,WACLF,MAAM,eACNG,GAAG,WACHE,YAAY,WACZC,SAAA,G,qDACS,EAAAE,KAAKE,SAAQ,K,4BAAb,EAAAF,KAAKE,YAEhB,IAEF,G,uCAaG,GACbC,OAAQ,CAAC,WACTC,KAFa,WAGX,MAAO,CACLJ,KAAM,CACJC,SAAU,GACVC,SAAU,MAIhBG,QAAS,CACPT,MADO,WACC,WACqB,KAAvBU,KAAKN,KAAKC,UAA0C,KAAvBK,KAAKN,KAAKE,SAI3C,OAAAK,EAAA,MAAaD,KAAKN,MACfQ,MAAK,SAACC,GACL,GAAIA,EAAIL,KAAKM,QAAS,CACpB,MAA2BD,EAAIL,KAAvBO,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,mBAA8BH,EAA9B,oBAA+C,IAAII,KAAKH,GAAxD,KACA,EAAKI,QAAQC,KAAK,wBAElB,EAAKC,QAAQ,QAAb,iBAAgCT,EAAIL,KAAKe,QAAzC,KAAqD,UAGxDC,OAAM,SAACC,GACN,EAAKH,QAAQ,QAAb,gBAA+BG,EAAIF,aAdrCb,KAAKY,QAAQ,QAAS,UAAW,U,UCrDzC,EAAOI,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-61513db8.e88fd9eb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=05fbb989&lang=scss&scoped=true\"","<template>\n  <div class=\"login\">\n    <div class=\"login_container\">\n      <div class=\"row justify-content-center w-100 mea-0\">\n        <h2 class=\"h3 mb-3 font-weight-normal text-center\">\n          請先登入\n        </h2>\n        <div class=\"col-10 col-sm-7\">\n          <form id=\"form\" class=\"form-signin\" @submit.prevent=\"login\">\n            <div class=\"form-floating mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                id=\"username\"\n                placeholder=\"name@example.com\"\n                required\n                autofocus\n                v-model=\"user.username\"\n              />\n              <label for=\"username\">Email address</label>\n            </div>\n            <div class=\"form-floating\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"password\"\n                placeholder=\"Password\"\n                required\n                v-model=\"user.password\"\n              />\n              <label for=\"password\">Password</label>\n            </div>\n            <button class=\"btn btn-lg btn-primary w-100 mt-3\" type=\"submit\">\n              登入\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiUserLogin } from '@/methods/api';\n\nexport default {\n  inject: ['swalert'],\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  methods: {\n    login() {\n      if (this.user.username === '' || this.user.password === '') {\n        this.swalert('error', '請輸入帳號密碼', 'top');\n        return;\n      }\n      apiUserLogin(this.user)\n        .then((res) => {\n          if (res.data.success) {\n            const { token, expired } = res.data;\n            document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n            this.$router.push('/admin/products');\n          } else {\n            this.swalert('error', `帳號密碼有誤，${res.data.message}。`, 'top');\n          }\n        })\n        .catch((err) => {\n          this.swalert('error', `登入失敗。 ${err.message}`);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  background-color: #424242;\n  & h2 {\n    color: #fff;\n    font-size: 32px;\n  }\n  &_container {\n    max-width: 680px;\n    padding: 0 15px;\n    width: 100%;\n  }\n}\n.form-signin {\n  width: 100%;\n}\n.mea-0 {\n  margin: 0;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=05fbb989&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=05fbb989&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-05fbb989\"\n\nexport default script"],"sourceRoot":""}