{"version":3,"sources":["webpack:///./src/views/dashboard/Dashboard.vue?1c81","webpack:///./src/views/dashboard/Dashboard.vue","webpack:///./src/views/dashboard/Dashboard.vue?e3cb"],"names":["class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","href","signout","checkSuccess","provide","emitter","inject","data","isLoading","created","this","checkLogin","methods","token","document","cookie","replace","$http","defaults","headers","common","Authorization","api","api_token","then","res","success","swalert","$router","push","catch","error","render","__scopeId"],"mappings":"kHAAA,W,4JCCOA,MAAM,iD,GACJA,MAAM,a,+BACuC,U,EAChD,yBAYS,UAXPA,MAAM,iBACNC,KAAK,SACLC,iBAAe,WACfC,iBAAe,aACfC,gBAAc,YACdC,gBAAc,QACdC,aAAW,qB,CAEX,yBAEO,QAFDN,MAAM,4BAA2B,Y,MAIpCA,MAAM,mDAAmDO,GAAG,a,GAC3DP,MAAM,c,GACJA,MAAM,Y,+BAC2C,U,GAEjDA,MAAM,Y,+BACyC,Q,GAE/CA,MAAM,Y,+BAC0C,O,GAEhDA,MAAM,Y,+BAC0C,M,GAGlDA,MAAM,c,GACJA,MAAM,Y,+BACoC,Q,GAE1CA,MAAM,Y,GAObA,MAAM,kB,wOA1CX,yBAyCM,MAzCN,EAyCM,CAxCJ,yBAuCM,MAvCN,EAuCM,CAtCJ,yBAAoE,GAAvDA,MAAM,sBAAsBQ,GAAG,K,YAAI,iBAAM,C,YACtD,EAaA,yBAuBM,MAvBN,EAuBM,CAtBJ,yBAaK,KAbL,EAaK,CAZH,yBAEK,KAFL,EAEK,CADH,yBAAuE,GAA1DR,MAAM,WAAWQ,GAAG,mB,YAAkB,iBAAM,C,cAE3D,yBAEK,KAFL,EAEK,CADH,yBAAmE,GAAtDR,MAAM,WAAWQ,GAAG,iB,YAAgB,iBAAI,C,cAEvD,yBAEK,KAFL,EAEK,CADH,yBAAmE,GAAtDR,MAAM,WAAWQ,GAAG,kB,YAAiB,iBAAG,C,cAEvD,yBAEK,KAFL,EAEK,CADH,yBAAkE,GAArDR,MAAM,WAAWQ,GAAG,kB,YAAiB,iBAAE,C,gBAGxD,yBAOK,KAPL,EAOK,CANH,yBAEK,KAFL,EAEK,CADH,yBAA8D,GAAjDR,MAAM,kBAAkBQ,GAAG,K,YAAI,iBAAI,C,cAElD,yBAEK,KAFL,EAEK,CADH,yBAA8D,KAA3DR,MAAM,WAAWS,KAAK,IAAK,QAAK,2DAAU,EAAAC,YAAO,eAAI,gBAMlE,yBAEM,MAFN,EAEM,CADe,EAAAC,c,yBAAnB,yBAAmC,Y,+FAQxB,GACbC,QADa,WAEX,MAAO,CACLC,QAAA,SAGJC,OAAQ,CAAC,WACTC,KAPa,WAQX,MAAO,CACLC,WAAW,EACXL,cAAc,IAGlBM,QAba,WAcXC,KAAKC,cAEPC,QAAS,CACPD,WADO,WACM,WACXD,KAAKF,WAAY,EACjB,IAAMK,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACpFH,GACFH,KAAKO,MAAMC,SAASC,QAAQC,OAAOC,cAAgBR,EACnD,OAAAS,EAAA,MAAa,CAAEC,UAAWb,KAAKG,QAC5BW,MAAK,SAACC,GACDA,EAAIlB,KAAKmB,SACX,EAAKvB,cAAe,EACpB,EAAKK,WAAY,EACjB,EAAKmB,QAAQ,UAAW,OAAQ,YAEhC,EAAKC,QAAQC,KAAK,aAGrBC,OAAM,SAACC,GACN,EAAKJ,QAAQ,QAAb,UAAyBI,QAG7BrB,KAAKkB,QAAQC,KAAK,WAGtB3B,QAvBO,WAwBLY,SAASC,OAAS,sBAClBL,KAAKkB,QAAQC,KAAK,a,UCxFxB,EAAOG,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"js/chunk-1a580ef4.63e6c703.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dashboard.vue?vue&type=style&index=0&id=413a025e&lang=scss&scoped=true\"","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container\">\n      <router-link class=\"navbar-brand spirit\" to=\"/\">Spirit</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"material-icons menu_icon\">\n          menu\n        </span>\n      </button>\n      <div class=\"collapse navbar-collapse justify-content-between\" id=\"navbarNav\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\">後台產品列表</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/orders\">訂單列表</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupons\">優惠券</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/article\">貼文</router-link>\n          </li>\n        </ul>\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link active\" to=\"/\">前台首頁</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" @click.prevent=\"signout()\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n  <div class=\"mt-5 container\">\n    <router-view v-if=\"checkSuccess\" />\n  </div>\n</template>\n\n<script>\nimport { apiUserCheck } from '@/methods/api';\nimport emitter from '@/methods/eventBus';\n\nexport default {\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  inject: ['swalert'],\n  data() {\n    return {\n      isLoading: false,\n      checkSuccess: false,\n    };\n  },\n  created() {\n    this.checkLogin();\n  },\n  methods: {\n    checkLogin() {\n      this.isLoading = true;\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token;\n        apiUserCheck({ api_token: this.token })\n          .then((res) => {\n            if (res.data.success) {\n              this.checkSuccess = true;\n              this.isLoading = false;\n              this.swalert('success', '登入成功', 'top-end');\n            } else {\n              this.$router.push('/login');\n            }\n          })\n          .catch((error) => {\n            this.swalert('error', `${error}`);\n          });\n      } else {\n        this.$router.push('/login');\n      }\n    },\n    signout() {\n      document.cookie = 'hexToken=;expires=;';\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');\n.spirit {\n  font-family: 'Pacifico', cursive;\n  font-size: 1.4rem;\n}\n</style>\n","import { render } from \"./Dashboard.vue?vue&type=template&id=413a025e&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=413a025e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-413a025e\"\n\nexport default script"],"sourceRoot":""}