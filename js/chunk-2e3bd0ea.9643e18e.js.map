{"version":3,"sources":["webpack:///./src/components/frontend/Pagination.vue?6952","webpack:///./src/components/frontend/Pagination.vue","webpack:///./src/components/frontend/Pagination.vue?e8ec","webpack:///./src/views/dashboard/Orders.vue","webpack:///./src/components/backend/OrderModal.vue","webpack:///./src/components/backend/OrderModal.vue?dad0","webpack:///./src/views/dashboard/Orders.vue?9097","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["aria-label","class","page","has_pre","href","$emit","current_page","total_pages","item","key","has_next","props","emits","render","__scopeId","active","isLoading","orders","$filters","date","create_at","user","email","products","product","i","title","qty","unit","currency","total","type","id","is_paid","updatePaid","for","openModal","openDelOrderModal","ref","order","tempOrder","deleteOrder","pagination","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","style","name","tel","address","delivery","payment","paid_date","final_total","getDate","message","data","modal","mixins","modalMixin","watch","this","methods","paid","Date","parse","currentPage","components","OrderModal","Pagination","DeleteModal","created","getOrders","inject","api","then","res","success","swalert","catch","err","paidDate","$refs","orderModal","hideModal","JSON","stringify","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-2e3bd0ea.9643e18e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=332e3702&lang=scss&scoped=true\"","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination mb-4\">\n      <li class=\"page-item\" :class=\"{ disabled: !page.has_pre }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"$emit('get-page', page.current_page - 1)\"\n        >\n          <span class=\"material-icons\">\n            chevron_left\n          </span>\n        </a>\n      </li>\n      <li\n        :class=\"{ active: item === page.current_page }\"\n        v-for=\"item in page.total_pages\"\n        :key=\"item\"\n        class=\"page-item\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('get-page', item)\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\" :class=\"{ disabled: !page.has_next }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"$emit('get-page', page.current_page + 1)\"\n        >\n          <span class=\"material-icons\">\n            chevron_right\n          </span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['page'],\n  emits: ['get-page'],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n  &-item {\n    height: 36px;\n    width: 40px;\n    margin-right: 8px;\n    display: flex;\n    justify-content: center;\n    &:last-of-type {\n      margin-right: 0;\n    }\n    &:first-of-type a,\n    &:last-of-type a {\n      padding: 6px;\n    }\n  }\n  &-link {\n    border: 0;\n    border-radius: 50% !important;\n    padding: 6px 12px;\n    &:focus {\n      box-shadow: unset;\n    }\n  }\n}\n</style>\n","import { render } from \"./Pagination.vue?vue&type=template&id=332e3702&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=332e3702&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-332e3702\"\n\nexport default script","<template>\n  <Loading :active=\"isLoading\" />\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th>購買時間</th>\n        <th>Email</th>\n        <th>購買款項</th>\n        <th>應付金額</th>\n        <th>是否付款</th>\n        <th>編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <template v-for=\"(item, key) in orders\" :key=\"key\">\n        <tr>\n          <td>{{ $filters.date(item.create_at) }}</td>\n          <td><span v-text=\"item.user.email\"></span></td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                {{ product.product.title }} 數量：{{ product.qty }}\n                {{ product.product.unit }}\n              </li>\n            </ul>\n          </td>\n          <td>{{ $filters.currency(item.total) }}</td>\n          <td>\n            <div class=\"form-check form-switch\">\n              <input\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                :id=\"`paid${item.id}`\"\n                v-model=\"item.is_paid\"\n                @change=\"updatePaid(item)\"\n              />\n              <label class=\"form-check-label\" :for=\"`paid${item.id}`\">\n                <span v-if=\"item.is_paid\">已付款</span>\n                <span v-else>未付款</span>\n              </label>\n            </div>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button class=\"btn btn-outline-primary btn-sm\" type=\"button\" @click=\"openModal(item)\">\n                檢視\n              </button>\n              <button\n                class=\"btn btn-outline-danger btn-sm\"\n                type=\"button\"\n                @click=\"openDelOrderModal(item)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </template>\n    </tbody>\n  </table>\n  <OrderModal ref=\"orderModal\" :order=\"tempOrder\" @update-paid=\"updatePaid\" />\n  <DeleteModal ref=\"DeleteModal\" :item=\"tempOrder\" @updata=\"deleteOrder\" />\n  <div class=\"d-flex justify-content-center\">\n    <Pagination :page=\"pagination\" />\n  </div>\n</template>\n\n<script>\nimport { apiGetOrders, apiUpdateOrder, apiDeleteOrder } from '@/methods/api';\nimport OrderModal from '@/components/backend/OrderModal.vue';\nimport Pagination from '@/components/frontend/Pagination.vue';\nimport DeleteModal from '@/components/backend/DeleteModal.vue';\n\nexport default {\n  data() {\n    return {\n      orders: {},\n      isLoading: false,\n      tempOrder: {},\n      pagination: {},\n      currentPage: 1,\n    };\n  },\n  components: {\n    OrderModal,\n    Pagination,\n    DeleteModal,\n  },\n  created() {\n    this.getOrders();\n  },\n  inject: ['swalert'],\n  methods: {\n    getOrders(page) {\n      this.currentPage = page;\n      this.isLoading = true;\n      apiGetOrders(page)\n        .then((res) => {\n          if (res.data.success) {\n            this.orders = res.data.orders;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            this.swalert('error', `取得訂單失敗。 ${res.data.message}`, 'top-end');\n          }\n        })\n        .catch((err) => {\n          this.swalert('error', `取得訂單時發生錯誤。 ${err.message}`);\n        });\n    },\n    updatePaid(item) {\n      this.isLoading = true;\n      let paidDate = 0;\n      if (item.is_paid) {\n        paidDate = Date.parse(new Date()) / 1000;\n      } else {\n        paidDate = null;\n      }\n      const paid = {\n        is_paid: item.is_paid,\n        paid_date: paidDate,\n      };\n\n      apiUpdateOrder({ data: paid })\n        .then((res) => {\n          if (res.data.success) {\n            this.isLoading = false;\n            this.$refs.orderModal.hideModal();\n            this.getOrders(this.currentPage);\n            this.swalert('success', '已更新付款時間', 'top-end');\n          } else {\n            this.swalert('error', `更新付款時間失敗。 ${res.data.message}`, 'top-end');\n          }\n        })\n        .catch((err) => {\n          this.swalert('error', `更新付款時間發生錯誤。 ${err.message}`);\n        });\n    },\n    openModal(item) {\n      this.tempOrder = JSON.parse(JSON.stringify(item));\n      this.$refs.orderModal.openModal();\n    },\n    openDelOrderModal(item) {\n      this.tempOrder = { ...item };\n      this.$refs.DeleteModal.openModal();\n    },\n    deleteOrder(item) {\n      this.isLoading = true;\n      apiDeleteOrder(item.id)\n        .then((res) => {\n          if (res.data.success) {\n            this.$refs.DeleteModal.hideModal();\n            this.getOrders(this.currentPage);\n            this.swalert('success', '刪除訂單成功', 'top-end');\n          } else {\n            this.swalert('error', `刪除訂單失敗。 ${res.data.message}`, 'top-end');\n          }\n        })\n        .catch((err) => {\n          this.swalert('error', `刪除訂單時發生錯誤。 ${err.message}`);\n        });\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"ordertModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <h3>用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"tempOrder.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                  <tr>\n                    <th>取貨方式</th>\n                    <td>{{ tempOrder.user.delivery }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款方式</th>\n                    <td>{{ tempOrder.user.payment }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-md-8\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ $filters.date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>\n                      {{ $filters.currency(tempOrder.total) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>選購商品</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>\n                      {{ item.product.title }}\n                    </th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td class=\"text-end\">\n                      {{ $filters.currency(item.final_total) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"d-flex justify-content-end\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"\n                    @click=\"getDate(tempOrder.is_paid)\"\n                  />\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-8 text-start\">\n              <div class=\"h3 mb-2\">顧客留言</div>\n              <div class=\"px-3 py-2\">\n                <div v-if=\"tempOrder.message\">{{ tempOrder.message }}</div>\n                <div v-else>這位顧客沒有留言</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-paid', tempOrder)\">\n            修改付款狀態\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: ['order'],\n  data() {\n    return {\n      modal: '',\n      tempOrder: {},\n    };\n  },\n  mixins: [modalMixin],\n  emits: ['update-paid'],\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n  methods: {\n    getDate(paid) {\n      if (paid) {\n        this.tempOrder.paid_date = false;\n      } else {\n        this.tempOrder.paid_date = Date.parse(new Date()) / 1000;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=12205656\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=25123a88\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}