(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-306494cd"],{"35a9":function(e,t,a){"use strict";a("40ff")},"3f6a":function(e,t,a){},"40ff":function(e,t,a){},"4de4":function(e,t,a){"use strict";var r=a("23e7"),c=a("b727").filter,i=a("1dde"),n=i("filter");r({target:"Array",proto:!0,forced:!n},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,a){"use strict";var r=a("0366"),c=a("7b0b"),i=a("9bdd"),n=a("e95a"),o=a("50c4"),s=a("8418"),d=a("35a1");e.exports=function(e){var t,a,l,u,p,g,f=c(e),b="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,j=void 0!==v,O=d(f),k=0;if(j&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==O||b==Array&&n(O))for(t=o(f.length),a=new b(t);t>k;k++)g=j?v(f[k],k):f[k],s(a,k,g);else for(u=O.call(f),p=u.next,a=new b;!(l=p.call(u)).done;k++)g=j?i(u,v,[l.value,k],!0):l.value,s(a,k,g);return a.length=k,a}},6062:function(e,t,a){"use strict";var r=a("6d61"),c=a("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),c)},6566:function(e,t,a){"use strict";var r=a("9bf2").f,c=a("7c73"),i=a("e2cc"),n=a("0366"),o=a("19aa"),s=a("2266"),d=a("7dd0"),l=a("2626"),u=a("83ab"),p=a("f183").fastKey,g=a("69f3"),f=g.set,b=g.getterFor;e.exports={getConstructor:function(e,t,a,d){var l=e((function(e,r){o(e,l,t),f(e,{type:t,index:c(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=r&&s(r,e[d],{that:e,AS_ENTRIES:a})})),g=b(t),h=function(e,t,a){var r,c,i=g(e),n=v(e,t);return n?n.value=a:(i.last=n={index:c=p(t,!0),key:t,value:a,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=n),r&&(r.next=n),u?i.size++:e.size++,"F"!==c&&(i.index[c]=n)),e},v=function(e,t){var a,r=g(e),c=p(t);if("F"!==c)return r.index[c];for(a=r.first;a;a=a.next)if(a.key==t)return a};return i(l.prototype,{clear:function(){var e=this,t=g(e),a=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete a[r.index],r=r.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,a=g(t),r=v(t,e);if(r){var c=r.next,i=r.previous;delete a.index[r.index],r.removed=!0,i&&(i.next=c),c&&(c.previous=i),a.first==r&&(a.first=c),a.last==r&&(a.last=i),u?a.size--:t.size--}return!!r},forEach:function(e){var t,a=g(this),r=n(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),i(l.prototype,a?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),u&&r(l.prototype,"size",{get:function(){return g(this).size}}),l},setStrong:function(e,t,a){var r=t+" Iterator",c=b(t),i=b(r);d(e,t,(function(e,t){f(this,{type:r,target:e,state:c(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),l(t)}}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),c=a("da84"),i=a("94ca"),n=a("6eeb"),o=a("f183"),s=a("2266"),d=a("19aa"),l=a("861d"),u=a("d039"),p=a("1c7e"),g=a("d44e"),f=a("7156");e.exports=function(e,t,a){var b=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),v=b?"set":"add",j=c[e],O=j&&j.prototype,k=j,m={},y=function(e){var t=O[e];n(O,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!l(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})},_=i(e,"function"!=typeof j||!(h||O.forEach&&!u((function(){(new j).entries().next()}))));if(_)k=a.getConstructor(t,e,b,v),o.REQUIRED=!0;else if(i(e,!0)){var x=new k,w=x[v](h?{}:-0,1)!=x,N=u((function(){x.has(1)})),V=p((function(e){new j(e)})),S=!h&&u((function(){var e=new j,t=5;while(t--)e[v](t,t);return!e.has(-0)}));V||(k=t((function(t,a){d(t,k,e);var r=f(new j,t,k);return void 0!=a&&s(a,r[v],{that:r,AS_ENTRIES:b}),r})),k.prototype=O,O.constructor=k),(N||S)&&(y("delete"),y("has"),b&&y("get")),(S||w)&&y(v),h&&O.clear&&delete O.clear}return m[e]=k,r({global:!0,forced:k!=j},m),g(k,e),h||a.setStrong(k,e,b),k}},7156:function(e,t,a){var r=a("861d"),c=a("d2bb");e.exports=function(e,t,a){var i,n;return c&&"function"==typeof(i=t.constructor)&&i!==a&&r(n=i.prototype)&&n!==a.prototype&&c(e,n),e}},"81b1":function(e,t,a){"use strict";a.r(t);var r=a("7a23"),c=Object(r["withScopeId"])("data-v-747c5f98");Object(r["pushScopeId"])("data-v-747c5f98");var i={class:"position-relative inn_banner",style:{"background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/johnming/1626702470408.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=ZuqNZWkgZBvbuQu3515xnP5l%2Bh5x1jGih70wSKtxcdMTQgNWxM0WF5AdK11nyRG3Qe02U8a4Ijyphjm6xIKzs17C5O6pXl7zt0yGU8pPyIC%2Fouy7kCDPE9bOmNx8NnD64mY4zdcBq7g7aR54DvMcaLMdPXKdzgPiy1NPjhantn6uEVmk%2Frf%2FQTDiWwjkGK8rU19hO6qLK44Li8MD%2FaPS0dnZMOOSN9C%2BBHBzCrn6G4xlfEQnpzBGLh3%2Fcj9%2BIjwpMrPcj%2FELpzOZpGLOmvcIcFaM5yzbrFcS4zM4WHNj42BqI1n2f72s5zJ%2FfkOFSXld697HdYuhORB0eop%2F0C9npg%3D%3D)"}},n={class:"position-absolute start-50 top-50 translate-middle fw-bold text-white"},o={class:"container"},s={class:"row mt-4"},d={class:"col-12 col-lg-3 col-xl-2 nav_left",ref:"navLeft"},l=Object(r["createVNode"])("p",{class:"bg-primary nav_tar"},[Object(r["createTextVNode"])(" 產品種類 "),Object(r["createVNode"])("span",{class:"material-icons"}," expand_more ")],-1),u={class:"col-12 col-lg-9 col-xl-10 ms-md-auto ps-md-4"},p={class:"row p-0"},g={class:"product"},f={class:"product_img"},b={key:0,class:"product_baking"},h={key:1,class:"product_baking_1"},v={class:"product_title"},j={class:"product_dec"},O={class:"product_price"},k={key:0,class:"product_price_1"},m={key:1,class:"product_price_2"},y={key:2,class:"product_price_2"},_={class:"d-flex mt-2"},x={key:0,class:"spinner-border spinner-border-sm"},w=Object(r["createTextVNode"])(" 加入購物車 "),N={key:0,class:"page"};Object(r["popScopeId"])();var V=c((function(e,t,a,c,V,S){var B=Object(r["resolveComponent"])("Loading"),C=Object(r["resolveComponent"])("Path"),P=Object(r["resolveComponent"])("Pagination");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(B,{active:V.isLoading},null,8,["active"]),Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("h2",n,Object(r["toDisplayString"])(V.pathData.purpose),1)])]),Object(r["createVNode"])("div",o,[Object(r["createVNode"])(C,{"path-data":V.pathData},null,8,["path-data"]),Object(r["createVNode"])("div",s,[Object(r["createVNode"])("div",d,[l,Object(r["createVNode"])("ul",{class:{open:V.sideUl}},[Object(r["createVNode"])("li",{onClick:t[1]||(t[1]=function(e){return S.getProducts()}),class:{active:""===V.productValue}}," 全部產品 ",2),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(V.category,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:e.id,onClick:function(t){return S.filterCategory(e)},class:{active:e===V.productValue}},Object(r["toDisplayString"])(e),11,["onClick"])})),128))],2)],512),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("ul",p,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(V.pageProducts,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:"col-6 col-sm-4 col-xl-3 mb-5 text-start list-none",key:t.id},[Object(r["createVNode"])("div",g,[Object(r["createVNode"])("div",f,[Object(r["createVNode"])("div",{class:"stretched-link",onClick:function(e){return S.getProduct(t.id)}},[Object(r["createVNode"])("img",{src:t.imageUrl,alt:t.title},null,8,["src","alt"])],8,["onClick"])]),t.baking?(Object(r["openBlock"])(),Object(r["createBlock"])("div",b,Object(r["toDisplayString"])(t.baking),1)):(Object(r["openBlock"])(),Object(r["createBlock"])("div",h)),Object(r["createVNode"])("div",v,Object(r["toDisplayString"])(t.title),1),Object(r["createVNode"])("div",j,Object(r["toDisplayString"])(t.decription),1),Object(r["createVNode"])("div",O,[t.price===t.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("div",k,Object(r["toDisplayString"])(e.$filters.currency(t.origin_price))+" 元 / "+Object(r["toDisplayString"])(t.unit),1)):Object(r["createCommentVNode"])("",!0),t.price!==t.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("del",m," 原價 "+Object(r["toDisplayString"])(e.$filters.currency(t.origin_price))+" 元 ",1)):Object(r["createCommentVNode"])("",!0),t.price!==t.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("div",y," 特價 "+Object(r["toDisplayString"])(e.$filters.currency(t.price))+" 元 / "+Object(r["toDisplayString"])(t.unit),1)):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("div",_,[Object(r["createVNode"])("button",{disabled:V.loadingStatus.loadingItem===t.id,onClick:function(e){return S.addToCart(t.id)},type:"button",class:"btn btn-secondary w-100"},[V.loadingStatus.loadingItem===t.id?(Object(r["openBlock"])(),Object(r["createBlock"])("i",x)):Object(r["createCommentVNode"])("",!0),w],8,["disabled","onClick"])])])])})),128))]),V.pageShow?(Object(r["openBlock"])(),Object(r["createBlock"])("div",N,[Object(r["createVNode"])(P,{page:V.pages,onGetPage:S.getCurrentPage},null,8,["page","onGetPage"])])):Object(r["createCommentVNode"])("",!0)])])])],64)})),S=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("a630"),a("4de4"),a("ab65")),B=a("8ae4"),C=a("37ca"),P={inject:["swalert"],components:{Pagination:B["a"]},data:function(){return{loadingStatus:{loadingItem:""},isLoading:!1,products:[],pages:{dataLen:0,total_pages:1,perpage:12,current_page:1,has_pre:!1,has_next:!0},pageProducts:[],category:[],pageShow:!0,productValue:"",sideUl:!1,pathData:{previous:[{title:"首頁",url:"/"}],purpose:"產品列表"}}},mounted:function(){var e=this;this.getProducts();var t=this.$refs.navLeft;t.addEventListener("click",(function(){window.innerWidth<993&&(e.sideUl?e.sideUl=!1:e.sideUl=!0)}))},methods:{getProducts:function(){var e=this;this.isLoading=!0,this.pageShow=!0,this.productValue="",Object(S["b"])().then((function(t){if(t.data.success){e.products=t.data.products;var a=new Set;e.products.forEach((function(e){a.add(e.category)})),e.category=Array.from(a),e.getProductsList(e.products),e.isLoading=!1}else e.isLoading=!1,e.swalert("error","取得產品列表時發生錯誤。 ".concat(t.data.message))})).catch((function(t){e.swalert("error","取得產品發生錯誤，請重新整理此頁面。 ".concat(t.message))}))},getProduct:function(e){this.$router.push("/product/".concat(e))},filterCategory:function(e){var t=this;this.isLoading=!0,this.pageShow=!1,this.pageProducts=this.products.filter((function(a){return a.category===e?(t.productValue=e,a):void 0===e&&(t.productValue=1,t.products)})),this.getProductsList(this.pageProducts),this.isLoading=!1},addToCart:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var r={product_id:e,qty:a};Object(S["a"])({data:r}).then((function(e){e.data.success?(t.isLoading=!1,C["a"].emit("updata-cart"),t.sideUl=!1,t.swalert("success","已加入購物車")):(t.sideUl=!1,t.swalert("error","加入失敗。 ".concat(e.data.message)))})).catch((function(e){t.swalert("error","加入購物車時發生錯誤，請重新整理此頁面。 ".concat(e.message))}))},getProductsList:function(e){var t=this;this.pages.dataLen=e.length,this.pages.total_pages=Math.ceil(this.pages.dataLen/this.pages.perpage),this.pages.current_page>this.pages.total_pages&&(this.pages.current_page=this.pages.total_pages);var a=this.pages.current_page*this.pages.perpage-this.pages.perpage+1,r=this.pages.current_page*this.pages.perpage;this.pageProducts=[],e.forEach((function(e,c){var i=c+1;i>=a&&i<=r&&t.pageProducts.push(e)})),this.pages.dataLen<=12?this.pageShow=!1:this.pageShow=!0},getCurrentPage:function(e){this.pages.current_page=e,e>1?this.pages.has_pre=!0:e===this.pages.current_page&&(this.pages.has_pre=!1),e<this.pages.total_pages?this.pages.has_next=!0:e===this.pages.total_pages&&(this.pages.has_next=!1),this.getProducts()}}};a("ab73");P.render=V,P.__scopeId="data-v-747c5f98";t["default"]=P},"8ae4":function(e,t,a){"use strict";var r=a("7a23"),c=Object(r["withScopeId"])("data-v-332e3702");Object(r["pushScopeId"])("data-v-332e3702");var i={"aria-label":"Page navigation example"},n={class:"pagination mb-4"},o=Object(r["createVNode"])("span",{class:"material-icons"}," chevron_left ",-1),s=Object(r["createVNode"])("span",{class:"material-icons"}," chevron_right ",-1);Object(r["popScopeId"])();var d=c((function(e,t,a,c,d,l){return Object(r["openBlock"])(),Object(r["createBlock"])("nav",i,[Object(r["createVNode"])("ul",n,[Object(r["createVNode"])("li",{class:["page-item",{disabled:!a.page.has_pre}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(t){return e.$emit("get-page",a.page.current_page-1)}),["prevent"]))},[o])],2),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.page.total_pages,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:[{active:t===a.page.current_page},"page-item"],key:t},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(r["withModifiers"])((function(a){return e.$emit("get-page",t)}),["prevent"])},Object(r["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(r["createVNode"])("li",{class:["page-item",{disabled:!a.page.has_next}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(r["withModifiers"])((function(t){return e.$emit("get-page",a.page.current_page+1)}),["prevent"]))},[s])],2)])])})),l={props:["page"],emits:["get-page"]};a("35a9");l.render=d,l.__scopeId="data-v-332e3702";t["a"]=l},"9bdd":function(e,t,a){var r=a("825a"),c=a("2a62");e.exports=function(e,t,a,i){try{return i?t(r(a)[0],a[1]):t(a)}catch(n){throw c(e),n}}},a630:function(e,t,a){var r=a("23e7"),c=a("4df4"),i=a("1c7e"),n=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:n},{from:c})},ab73:function(e,t,a){"use strict";a("3f6a")},bb2f:function(e,t,a){var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},f183:function(e,t,a){var r=a("d012"),c=a("861d"),i=a("5135"),n=a("9bf2").f,o=a("90e3"),s=a("bb2f"),d=o("meta"),l=0,u=Object.isExtensible||function(){return!0},p=function(e){n(e,d,{value:{objectID:"O"+ ++l,weakData:{}}})},g=function(e,t){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,d)){if(!u(e))return"F";if(!t)return"E";p(e)}return e[d].objectID},f=function(e,t){if(!i(e,d)){if(!u(e))return!0;if(!t)return!1;p(e)}return e[d].weakData},b=function(e){return s&&h.REQUIRED&&u(e)&&!i(e,d)&&p(e),e},h=e.exports={REQUIRED:!1,fastKey:g,getWeakData:f,onFreeze:b};r[d]=!0}}]);
//# sourceMappingURL=chunk-306494cd.4cd7386c.js.map