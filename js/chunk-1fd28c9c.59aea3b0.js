(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fd28c9c"],{"65a2":function(e,t,a){"use strict";a("c3e0")},b0c0:function(e,t,a){var c=a("83ab"),o=a("9bf2").f,r=Function.prototype,s=r.toString,l=/^\s*function ([^ (]*)/,d="name";c&&!(d in r)&&o(r,d,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(e){return""}}})},b7c8:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),o=Object(c["withScopeId"])("data-v-45ae8835");Object(c["pushScopeId"])("data-v-45ae8835");var r={class:"position-relative inn_banner",style:{height:"250px","background-size":"cover","background-position":"center center","background-repeat":"no-repeat","background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/johnming/1626702787982.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CrNQrW8cLRifH7Tcj0el7SaRzWl2AGL0xqWxFf9LkwIt4mKUh9lxR1am9qeksJ0KhJJO%2BnLyk5cN1tDVEJb8c2bl6KFQIAJjZEEZlgubyY%2FY0BewH0FRdYnH90q%2FKkovmhb9SdHF%2B73lymDFCMsimSKW57%2BqxPOPqCha0W8CYvYEWkE17%2BNdKJlNAwnk84jyBW098QOXftCAOY3YjRF8DsvEzlOcBHPgrKsqBzEQi1M6dX0GO68oBChWl8w5%2F7A6VQVipaL3m7l9mOBjlraa%2BIArzwkv6KUDSkgdey1VChhnFxMDe%2BKllroKgpqTGL8dseTvxiHe%2B%2BVo8UQCXedUbg%3D%3D)"}},s={class:"position-absolute start-50 top-50 translate-middle fw-bold text-white"},l={class:"container mb-5"},d=Object(c["createVNode"])("div",{class:"process"},[Object(c["createVNode"])("div",{class:"process_step current","data-num":"01"}," 確認商品 "),Object(c["createVNode"])("div",{class:"process_step current","data-num":"02"}," 填寫資料 "),Object(c["createVNode"])("div",{class:"process_step","data-num":"03"}," 訂購完成 ")],-1),n={class:"row order justify-content-center"},i={class:"col-12 col-lg-7"},u=Object(c["createVNode"])("div",{class:"order_inf"},"訂購人資訊",-1),b={class:"mb-3"},m=Object(c["createVNode"])("label",{for:"email",class:"form-label"},[Object(c["createTextVNode"])("Email"),Object(c["createVNode"])("span",{class:"text-danger"}," *")],-1),p={class:"mb-3"},j=Object(c["createVNode"])("label",{for:"name",class:"form-label"},[Object(c["createTextVNode"])(" 收件人姓名"),Object(c["createVNode"])("span",{class:"text-danger"}," *")],-1),O={class:"mb-3"},f=Object(c["createVNode"])("label",{for:"tel",class:"form-label"},[Object(c["createTextVNode"])(" 收件人電話"),Object(c["createVNode"])("span",{class:"text-danger"}," *")],-1),V={class:"mb-3"},v=Object(c["createVNode"])("label",{for:"address",class:"form-label"},[Object(c["createTextVNode"])(" 收件人地址"),Object(c["createVNode"])("span",{class:"text-danger"}," *")],-1),N={class:"mb-3"},g=Object(c["createVNode"])("label",{for:"orderDelivery",class:"form-label"},[Object(c["createTextVNode"])(" 寄送方式"),Object(c["createVNode"])("span",{class:"text-danger fw-bold"}," *")],-1),h=Object(c["createVNode"])("option",{value:"",selected:"",disabled:""},"選擇寄送方式",-1),_=Object(c["createVNode"])("option",{value:"宅配"},"宅配",-1),y=Object(c["createVNode"])("option",{value:"全家超取"},"全家",-1),k=Object(c["createVNode"])("option",{value:"7-11 超取"},"7-11",-1),x=Object(c["createVNode"])("option",{value:"萊爾富超取"},"萊爾富",-1),C=Object(c["createVNode"])("option",{value:"OK 超取"},"OK 超取",-1),w={class:"mb-3"},B=Object(c["createVNode"])("label",{for:"orderPayment",class:"form-label"},[Object(c["createTextVNode"])(" 付款方式"),Object(c["createVNode"])("span",{class:"text-danger fw-bold"}," *")],-1),S=Object(c["createVNode"])("option",{value:"",selected:"",disabled:""},"選擇付款方式",-1),D=Object(c["createVNode"])("option",{value:"信用卡"},"信用卡",-1),T=Object(c["createVNode"])("option",{value:"貨到付款"},"貨到付款",-1),L=Object(c["createVNode"])("option",{value:"ATM 匯款"},"ATM 匯款",-1),F={class:"mb-3 form_message"},q=Object(c["createVNode"])("label",{for:"message",class:"form-label"},"留言",-1),U={class:"text-start ms-0 w-50"},E=Object(c["createTextVNode"])("上一步"),K={class:"text-end w-50"},I={class:"col-12 col-lg-5"},A={class:"order_dtl"},P=Object(c["createVNode"])("div",{class:"order_del_title"},"訂單明細",-1),$={class:"order_dtl_list_title"},J={class:"order_dtl_list_unit"},M={key:0},W=Object(c["createVNode"])("span",{class:"price_dlr material-icons"},"attach_money ",-1),z={key:1},Y=Object(c["createVNode"])("span",{class:"price_dlr material-icons"},"attach_money ",-1),H={class:"order_dtl_list_qty"},Q={class:"shop_pirce"},R={class:"d-flex align-items-end justify-content-end"},G={class:"input-group-append"},X={class:"shop_pirce_dtl"},Z={class:"d-flex justify-content-end align-items-end"},ee=Object(c["createVNode"])("span",{class:"shop_pirce_title"},"商品金額",-1),te={class:"shop_pirce_total"},ae=Object(c["createVNode"])("span",{class:"material-icons"}," attach_money ",-1),ce={key:0,class:"d-flex justify-content-end align-items-end"},oe=Object(c["createVNode"])("span",{class:"shop_pirce_title"},"折扣",-1),re={class:"shop_pirce_total text-success"},se=Object(c["createVNode"])("span",{class:"material-icons"}," attach_money ",-1),le={key:1,class:"d-flex justify-content-end align-items-end"},de=Object(c["createVNode"])("span",{class:"shop_pirce_title"},"總計",-1),ne={class:"shop_pirce_total total_price"},ie=Object(c["createVNode"])("span",{class:"material-icons"}," attach_money ",-1);Object(c["popScopeId"])();var ue=o((function(e,t,a,ue,be,me){var pe=Object(c["resolveComponent"])("Loading"),je=Object(c["resolveComponent"])("Path"),Oe=Object(c["resolveComponent"])("Field"),fe=Object(c["resolveComponent"])("ErrorMessage"),Ve=Object(c["resolveComponent"])("Error-message"),ve=Object(c["resolveComponent"])("router-link"),Ne=Object(c["resolveComponent"])("Form");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(pe,{active:be.isLoading},null,8,["active"]),Object(c["createVNode"])("div",r,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("h2",s,Object(c["toDisplayString"])(be.pathData.purpose),1)])]),Object(c["createVNode"])("div",l,[Object(c["createVNode"])(je,{"path-data":be.pathData},null,8,["path-data"]),d,Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",i,[u,Object(c["createVNode"])(Ne,{ref:"form",class:"form",onSubmit:me.createOrder,onChange:me.checkFrom},{default:o((function(e){var a=e.errors;return[Object(c["createVNode"])("div",b,[m,Object(c["createVNode"])(Oe,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":a["email"],"is-valid":be.form.user.email}],placeholder:"請輸入 Email",rules:"email|required",modelValue:be.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return be.form.user.email=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(fe,{name:"email",class:"invalid-feedback"})]),Object(c["createVNode"])("div",p,[j,Object(c["createVNode"])(Oe,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":a["姓名"],"is-valid":be.form.user.name}],placeholder:"請輸入姓名",rules:"required",modelValue:be.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return be.form.user.name=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(fe,{name:"姓名",class:"invalid-feedback"})]),Object(c["createVNode"])("div",O,[f,Object(c["createVNode"])(Oe,{id:"tel",name:"手機號碼",type:"tel",class:["form-control",{"is-invalid":a["手機號碼"],"is-valid":be.form.user.tel}],placeholder:"請輸入手機號碼",rules:me.checkTel,modelValue:be.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return be.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(c["createVNode"])(fe,{name:"手機號碼",class:"invalid-feedback"})]),Object(c["createVNode"])("div",V,[v,Object(c["createVNode"])(Oe,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":a["地址"],"is-valid":be.form.user.address}],placeholder:"請輸入地址",rules:"required",modelValue:be.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return be.form.user.address=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(fe,{name:"地址",class:"invalid-feedback"})]),Object(c["createVNode"])("div",N,[g,Object(c["createVNode"])(Oe,{as:"select",name:"寄送方式",id:"orderDelivery",class:["form-control",{"is-invalid":a["寄送方式"],"is-valid":be.form.user.delivery}],rules:"required",modelValue:be.form.user.delivery,"onUpdate:modelValue":t[5]||(t[5]=function(e){return be.form.user.delivery=e})},{default:o((function(){return[h,_,y,k,x,C]})),_:2},1032,["class","modelValue"]),Object(c["createVNode"])(Ve,{name:"寄送方式",class:"invalid-feedback mb-1"})]),Object(c["createVNode"])("div",w,[B,Object(c["createVNode"])(Oe,{as:"select",name:"付款方式",id:"orderPayment",class:["form-control",{"is-invalid":a["付款方式"],"is-valid":be.form.user.payment}],rules:"required",modelValue:be.form.user.payment,"onUpdate:modelValue":t[6]||(t[6]=function(e){return be.form.user.payment=e})},{default:o((function(){return[S,D,T,L]})),_:2},1032,["class","modelValue"]),Object(c["createVNode"])(Ve,{name:"付款方式",class:"invalid-feedback mb-1"})]),Object(c["createVNode"])("div",F,[q,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[7]||(t[7]=function(e){return be.form.message=e})},null,512),[[c["vModelText"],be.form.message]])]),Object(c["createVNode"])("div",U,[Object(c["createVNode"])(ve,{class:"btn btn-outline-primary",to:"/cart"},{default:o((function(){return[E]})),_:1})]),Object(c["createVNode"])("div",K,[Object(c["createVNode"])("button",{type:"submit",class:["btn btn-secondary",{"not-allowed":be.btnStatus}],disabled:be.btnStatus}," 送出訂單 ",10,["disabled"])])]})),_:1},8,["onSubmit","onChange"])]),Object(c["createVNode"])("div",I,[Object(c["createVNode"])("div",A,[P,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(be.cart.carts,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"order_dtl_list",key:t.id},[Object(c["createVNode"])("div",{class:"order_dtl_list_img",onClick:function(e){return me.getProduct(t.product.id)}},[Object(c["createVNode"])("img",{src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"])],8,["onClick"]),Object(c["createVNode"])("div",$,[Object(c["createVNode"])("div",{class:"order_dtl_list_title_txt",onClick:function(e){return me.getProduct(t.product.id)}},Object(c["toDisplayString"])(t.product.title),9,["onClick"]),Object(c["createVNode"])("div",J,[t.product.price?(Object(c["openBlock"])(),Object(c["createBlock"])("div",z,[Y,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(t.product.price)),1)])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",M,[W,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(t.product.origin_price)),1)])),Object(c["createTextVNode"])(" / "+Object(c["toDisplayString"])(t.product.unit),1)])]),Object(c["createVNode"])("div",H,"X "+Object(c["toDisplayString"])(t.qty),1)])})),128))]),Object(c["createVNode"])("div",Q,[Object(c["createVNode"])("div",R,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"coupon_code","onUpdate:modelValue":t[8]||(t[8]=function(e){return be.coupon_code=e}),placeholder:"請輸入優惠碼"},null,512),[[c["vModelText"],be.coupon_code]]),Object(c["createVNode"])("div",G,[Object(c["createVNode"])("button",{class:"btn btn-secondary",type:"button",onClick:t[9]||(t[9]=function(){return me.addCouponCode&&me.addCouponCode.apply(me,arguments)})}," 使用優惠碼 ")])]),Object(c["createVNode"])("div",X,[Object(c["createVNode"])("div",Z,[ee,Object(c["createVNode"])("span",te,[ae,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(be.cart.total)),1)])]),be.cart.final_total!==be.cart.total?(Object(c["openBlock"])(),Object(c["createBlock"])("div",ce,[oe,Object(c["createVNode"])("span",re,[se,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(be.cart.final_total-be.cart.total)),1)])])):Object(c["createCommentVNode"])("",!0),be.cart.final_total!==be.cart.total?(Object(c["openBlock"])(),Object(c["createBlock"])("div",le,[de,Object(c["createVNode"])("span",ne,[ie,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(be.cart.final_total)),1)])])):Object(c["createCommentVNode"])("",!0)])])])])])],64)})),be=(a("ac1f"),a("5319"),a("ab65")),me=a("37ca"),pe={data:function(){return{loadingStatus:{loadingItem:""},isLoading:!1,btnStatus:!0,coupon_code:"spirit168",cart:{},form:{user:{email:"",name:"",tel:"",address:"",delivery:"",payment:""},message:""},pathData:{previous:[{title:"首頁",url:"/"}],purpose:"填寫資料"}}},mounted:function(){this.getCart()},inject:["swalert"],methods:{getCart:function(){var e=this;this.isLoading=!0,Object(be["n"])().then((function(t){t.data.success?(e.cart=t.data.data,e.isLoading=!1):(e.isLoading=!1,e.swalert("error","取得購物車資料時發生錯誤。 ".concat(t.data.message)))})).catch((function(t){e.swalert("error","取得購物車時發生錯誤，請重新整理此頁面。 ".concat(t.message))}))},addCouponCode:function(){var e=this;this.isLoading=!0;var t={code:this.coupon_code};Object(be["u"])({data:t}).then((function(t){t.data.success?(e.getCart(),me["a"].emit("updata-cart"),e.isLoading=!1,e.swalert("success","使用優惠券")):(e.isLoading=!1,e.swalert("error","".concat(t.data.message)))})).catch((function(t){e.isLoading=!1,e.swalert("error","發生錯誤，請重新整理此頁面。 ".concat(t.message))}))},checkTel:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||'請填入正確的"手機"號碼'},createOrder:function(){var e=this;this.isLoading=!0;var t=this.form;Object(be["c"])({data:t}).then((function(t){t.data.success?(e.$refs.form.resetForm(),e.form.message="",e.isLoading=!1,e.swalert("success","表單送出"),e.$router.replace("/checkoutpaid/".concat(t.data.orderId))):(e.isLoading=!1,e.swalert("error","表單送出失敗。 ".concat(t.data.message)))})).catch((function(t){e.isLoading=!1,e.swalert("error","表單送出時發生錯誤，請重新整理此頁面。 ".concat(t.message))}))},checkFrom:function(){var e=this.form.user,t=e.name,a=e.email,c=e.tel,o=e.address,r=e.delivery,s=e.payment;this.btnStatus=""===t||""===a||""===c||""===o||""===r||""===s},getProduct:function(e){this.$router.push("/product/".concat(e))}}};a("65a2");pe.render=ue,pe.__scopeId="data-v-45ae8835";t["default"]=pe},c3e0:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1fd28c9c.59aea3b0.js.map