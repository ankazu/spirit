{"version":3,"sources":["webpack:///./src/views/frontend/CheckoutPaid.vue?9869","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/frontend/CheckoutPaid.vue","webpack:///./src/views/frontend/CheckoutPaid.vue?7bb6"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","style","pathData","purpose","path-data","order","user","name","email","tel","address","products","item","key","id","product","title","qty","$filters","currency","total","delivery","payment","is_paid","type","goToPay","disabled","to","data","isLoading","previous","url","emali","inject","mounted","emit","$route","params","getOrder","methods","api","then","res","success","swalert","message","catch","err","render","__scopeId"],"mappings":"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","file":"js/chunk-7584933f.e463ae4f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CheckoutPaid.vue?vue&type=style&index=0&id=b512fe2e&lang=scss&scoped=true\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div\n    class=\"position-relative inn_banner\"\n    style=\"height: 250px; background-size: cover; background-position: center center;\n    background-repeat: no-repeat; background-image: url(https://storage.googleapis.com/vue-course-api.appspot.com/johnming/1626702787982.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CrNQrW8cLRifH7Tcj0el7SaRzWl2AGL0xqWxFf9LkwIt4mKUh9lxR1am9qeksJ0KhJJO%2BnLyk5cN1tDVEJb8c2bl6KFQIAJjZEEZlgubyY%2FY0BewH0FRdYnH90q%2FKkovmhb9SdHF%2B73lymDFCMsimSKW57%2BqxPOPqCha0W8CYvYEWkE17%2BNdKJlNAwnk84jyBW098QOXftCAOY3YjRF8DsvEzlOcBHPgrKsqBzEQi1M6dX0GO68oBChWl8w5%2F7A6VQVipaL3m7l9mOBjlraa%2BIArzwkv6KUDSkgdey1VChhnFxMDe%2BKllroKgpqTGL8dseTvxiHe%2B%2BVo8UQCXedUbg%3D%3D)\"\n  >\n    <div>\n      <h2 class=\"position-absolute start-50 top-50 translate-middle fw-bold text-white\">\n        {{ pathData.purpose }}\n      </h2>\n    </div>\n  </div>\n\n  <div class=\"container\">\n    <Path :path-data=\"pathData\" />\n    <div class=\"process\">\n      <div class=\"process_step current\" data-num=\"01\">\n        確認商品\n      </div>\n      <div class=\"process_step current\" data-num=\"02\">\n        填寫資料\n      </div>\n      <div class=\"process_step current\" data-num=\"03\">\n        訂購完成\n      </div>\n    </div>\n    <div class=\"mt-4 text-center\">\n      <span class=\"material-icons shop_cart_icon\">\n        local_shipping\n      </span>\n    </div>\n    <div class=\"text-center\">\n      <h2 class=\"my-4\">感謝您的訂購！</h2>\n      <p>您訂購的商品將在近期安排出貨，請留意簡訊通知或配送人員的電話。</p>\n\n      <div class=\"mt-4\">\n        <h4>訂購人資訊</h4>\n      </div>\n      <table class=\"checkout_table\">\n        <tbody>\n          <tr>\n            <th>姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>購買產品</th>\n            <td>\n              <ul class=\"list-unstyled ps-0 mb-0\">\n                <li v-for=\"item in order.products\" :key=\"item.id\">\n                  {{ item.product.title }} * {{ item.qty }}\n                </li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <th>付款金額</th>\n            <td>{{ $filters.currency(order.total) }} 元</td>\n          </tr>\n          <tr>\n            <th>取貨方式</th>\n            <td>{{ order.user.delivery }}</td>\n          </tr>\n          <tr>\n            <th>付款方式</th>\n            <td>{{ order.user.payment }}</td>\n          </tr>\n          <tr>\n            <th>付款狀態</th>\n            <td>\n              <span v-if=\"!order.is_paid\" class=\"text-danger\">未付款</span>\n              <span v-else class=\"text-success\">已付款</span>\n            </td>\n          </tr>\n          <tr v-if=\"order.user.payment !== '貨到付款'\">\n            <th></th>\n            <td>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-primary btn-sm\"\n                @click=\"goToPay(order.id)\"\n                :disabled=\"order.is_paid\"\n                :class=\"{ 'not-allowed': order.is_paid }\"\n              >\n                點擊付款\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <router-link to=\"/products\" class=\"btn btn-primary mt-4 mb-5\">繼續購物</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiGetOrder, apiPayOrder } from '@/methods/api';\nimport emitter from '@/methods/eventBus';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      pathData: { previous: [{ title: '首頁', url: '/' }], purpose: '訂購完成' },\n      order: {\n        user: {\n          name: '',\n          address: '',\n          emali: '',\n          tel: '',\n        },\n      },\n    };\n  },\n  inject: ['swalert'],\n  mounted() {\n    emitter.emit('updata-cart');\n    const { id } = this.$route.params;\n    this.getOrder(id);\n  },\n  methods: {\n    getOrder(id) {\n      this.isLoading = true;\n      apiGetOrder(id)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            this.isLoading = false;\n          } else {\n            this.isLoading = false;\n            this.swalert('error', `取得訂單發生錯誤。 ${res.data.message}`);\n          }\n        })\n        .catch((err) => {\n          this.swalert('error', `取得訂單時發生錯誤，請重新整理此頁面。 ${err.message}`);\n        });\n    },\n    goToPay(id) {\n      this.isLoading = true;\n      apiPayOrder(id)\n        .then((res) => {\n          if (res.data.success) {\n            this.isLoading = false;\n            this.swalert('success', '付款成功');\n            this.getOrder(id);\n          } else {\n            this.swalert('error', `付款失敗。 ${res.data.message}`);\n          }\n        })\n        .catch((err) => {\n          this.swalert('error', `發生錯誤請重新整理。 ${err.message}`);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.shop_cart_icon {\n  font-size: 180px;\n  color: #debc8c;\n}\nh2 {\n  font-size: 32px;\n}\n.process {\n  &::after {\n    position: absolute;\n    width: 100%;\n    z-index: 1;\n    content: '';\n    height: 3px;\n    background-color: #debc8c;\n  }\n}\n.checkout {\n  &_table {\n    max-width: 500px;\n    width: 100%;\n    margin: 0 auto;\n    & th {\n      border-bottom: 1px solid #ccc;\n      width: 120px;\n      padding: 13px 10px;\n    }\n    & td {\n      border-bottom: 1px solid #ccc;\n      padding: 13px 10px;\n    }\n  }\n}\n</style>\n","import { render } from \"./CheckoutPaid.vue?vue&type=template&id=b512fe2e&scoped=true\"\nimport script from \"./CheckoutPaid.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutPaid.vue?vue&type=script&lang=js\"\n\nimport \"./CheckoutPaid.vue?vue&type=style&index=0&id=b512fe2e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b512fe2e\"\n\nexport default script"],"sourceRoot":""}